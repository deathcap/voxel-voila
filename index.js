// Generated by CoffeeScript 1.6.3
(function() {
  var VoilaPlugin;

  module.exports = function(game, opts) {
    return new VoilaPlugin(game, opts);
  };

  module.exports.pluginInfo = {
    loadAfter: ['voxel-highlight']
  };

  VoilaPlugin = (function() {
    function VoilaPlugin(game, opts) {
      var _ref;
      this.game = game;
      this.hl = (function() {
        var _ref1;
        if ((_ref = (_ref1 = this.game.plugins) != null ? _ref1.get('voxel-highlight') : void 0) != null) {
          return _ref;
        } else {
          throw 'voxel-voila requires voxel-highlight plugin';
        }
      }).call(this);
      this.enable();
    }

    VoilaPlugin.prototype.enable = function() {
      var _this = this;
      return this.hl.on('highlight', this.onHighlight = function(pos) {
        return console.log('hl', pos);
      });
    };

    VoilaPlugin.prototype.disable = function() {
      return this.hl.removeListener('highlight', this.onHighlight);
    };

    return VoilaPlugin;

  })();

}).call(this);
